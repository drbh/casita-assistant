(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&a(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();const da=!1;var Sa=Array.isArray,Zr=Array.prototype.indexOf,ea=Array.from,er=Object.defineProperty,$n=Object.getOwnPropertyDescriptor,tr=Object.getOwnPropertyDescriptors,Qr=Object.prototype,Xr=Array.prototype,Aa=Object.getPrototypeOf,Ua=Object.isExtensible;const Yt=()=>{};function es(e){return e()}function Bn(e){for(var t=0;t<e.length;t++)e[t]()}function nr(){var e,t,n=new Promise((a,r)=>{e=a,t=r});return{promise:n,resolve:e,reject:t}}const Oe=2,$a=4,ta=8,ts=1<<24,Wt=16,Vt=32,vn=64,na=128,kt=512,Ve=1024,Xe=2048,It=4096,rt=8192,Zt=16384,Ta=32768,hn=65536,ja=1<<17,ar=1<<18,yn=1<<19,rr=1<<20,Ut=1<<25,cn=32768,_a=1<<21,Ca=1<<22,Qt=1<<23,rn=Symbol("$state"),ns=Symbol(""),pn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function as(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function rs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ss(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function is(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function os(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ls(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function cs(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function us(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function vs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ds=1,_s=2,sr=4,ps=8,hs=16,ms=1,gs=2,je=Symbol(),bs="http://www.w3.org/1999/xhtml";function ys(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function ws(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function ir(e){return e===this.v}function or(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function lr(e){return!or(e,this.v)}let Rn=!1,xs=!1;function ks(){Rn=!0}let pe=null;function mn(e){pe=e}function wn(e,t=!1,n){pe={p:pe,i:!1,c:null,e:null,s:e,x:null,l:Rn&&!t?{s:null,u:null,$:[]}:null}}function xn(e){var t=pe,n=t.e;if(n!==null){t.e=null;for(var a of n)Ar(a)}return t.i=!0,pe=t.p,{}}function Ln(){return!Rn||pe!==null&&pe.l===null}let nn=[];function cr(){var e=nn;nn=[],Bn(e)}function aa(e){if(nn.length===0&&!Cn){var t=nn;queueMicrotask(()=>{t===nn&&cr()})}nn.push(e)}function Es(){for(;nn.length>0;)cr()}function ur(e){var t=K;if(t===null)return R.f|=Qt,e;if((t.f&Ta)===0){if((t.f&na)===0)throw e;t.b.error(e)}else gn(e,t)}function gn(e,t){for(;t!==null;){if((t.f&na)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Jn=new Set;let U=null,Tn=null,_t=null,ft=[],ra=null,pa=!1,Cn=!1;class Ot{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#a=0;#n=0;#l=null;#s=new Set;#r=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(t){ft=[],Tn=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const a of t)this.#i(a,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects)):(Tn=this,U=null,Wa(n.render_effects),Wa(n.effects),Tn=null,this.#l?.resolve()),_t=null}#i(t,n){t.f^=Ve;for(var a=t.first;a!==null;){var r=a.f,s=(r&(Vt|vn))!==0,u=s&&(r&Ve)!==0,f=u||(r&rt)!==0||this.skipped_effects.has(a);if((a.f&na)!==0&&a.b?.is_pending()&&(n={parent:n,effect:a,effects:[],render_effects:[]}),!f&&a.fn!==null){s?a.f^=Ve:(r&$a)!==0?n.effects.push(a):Un(a)&&((a.f&Wt)!==0&&this.#s.add(a),Pn(a));var o=a.first;if(o!==null){a=o;continue}}var v=a.parent;for(a=a.next;a===null&&v!==null;)v===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),n=n.parent),a=v.next,v=v.parent}}#o(t){for(const n of t)(n.f&Xe)!==0?this.#s.add(n):(n.f&It)!==0&&this.#r.add(n),this.#c(n.deps),He(n,Ve)}#c(t){if(t!==null)for(const n of t)(n.f&Oe)===0||(n.f&cn)===0||(n.f^=cn,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&Qt)===0&&(this.current.set(t,t.v),_t?.set(t,t.v))}activate(){U=this,this.apply()}deactivate(){U===this&&(U=null,_t=null)}flush(){if(this.activate(),ft.length>0){if(fr(),U!==null&&U!==this)return}else this.#a===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#n===0){for(const t of this.#e)t();this.#e.clear()}this.#a===0&&this.#f()}#f(){if(Jn.size>1){this.previous.clear();var t=_t,n=!0,a={parent:null,effect:null,effects:[],render_effects:[]};for(const s of Jn){if(s===this){n=!1;continue}const u=[];for(const[o,v]of this.current){if(s.current.has(o))if(n&&v!==s.current.get(o))s.current.set(o,v);else continue;u.push(o)}if(u.length===0)continue;const f=[...s.current.keys()].filter(o=>!this.current.has(o));if(f.length>0){var r=ft;ft=[];const o=new Set,v=new Map;for(const d of u)vr(d,f,o,v);if(ft.length>0){U=s,s.apply();for(const d of ft)s.#i(d,a);s.deactivate()}ft=r}}U=null,_t=t}this.committed=!0,Jn.delete(this)}increment(t){this.#a+=1,t&&(this.#n+=1)}decrement(t){this.#a-=1,t&&(this.#n-=1),this.revive()}revive(){for(const t of this.#s)this.#r.delete(t),He(t,Xe),un(t);for(const t of this.#r)He(t,It),un(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=nr()).promise}static ensure(){if(U===null){const t=U=new Ot;Jn.add(U),Cn||Ot.enqueue(()=>{U===t&&t.flush()})}return U}static enqueue(t){aa(t)}apply(){}}function Ss(e){var t=Cn;Cn=!0;try{for(var n;;){if(Es(),ft.length===0&&(U?.flush(),ft.length===0))return ra=null,n;fr()}}finally{Cn=t}}function fr(){var e=on;pa=!0;var t=null;try{var n=0;for(Zn(!0);ft.length>0;){var a=Ot.ensure();if(n++>1e3){var r,s;As()}a.process(ft),Xt.clear()}}finally{pa=!1,Zn(e),ra=null}}function As(){try{ls()}catch(e){gn(e,ra)}}let Lt=null;function Wa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var a=e[n++];if((a.f&(Zt|rt))===0&&Un(a)&&(Lt=new Set,Pn(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Nr(a):a.fn=null),Lt?.size>0)){Xt.clear();for(const r of Lt){if((r.f&(Zt|rt))!==0)continue;const s=[r];let u=r.parent;for(;u!==null;)Lt.has(u)&&(Lt.delete(u),s.push(u)),u=u.parent;for(let f=s.length-1;f>=0;f--){const o=s[f];(o.f&(Zt|rt))===0&&Pn(o)}}Lt.clear()}}Lt=null}}function vr(e,t,n,a){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const r of e.reactions){const s=r.f;(s&Oe)!==0?vr(r,t,n,a):(s&(Ca|Wt))!==0&&(s&Xe)===0&&dr(r,t,a)&&(He(r,Xe),un(r))}}function dr(e,t,n){const a=n.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const r of e.deps){if(t.includes(r))return!0;if((r.f&Oe)!==0&&dr(r,t,n))return n.set(r,!0),!0}return n.set(e,!1),!1}function un(e){for(var t=ra=e;t.parent!==null;){t=t.parent;var n=t.f;if(pa&&t===K&&(n&Wt)!==0&&(n&ar)===0)return;if((n&(vn|Vt))!==0){if((n&Ve)===0)return;t.f^=Ve}}ft.push(t)}function $s(e){let t=0,n=fn(0),a;return()=>{Fn()&&(i(n),$r(()=>(t===0&&(a=jn(()=>e(()=>Nn(n)))),t+=1,()=>{aa(()=>{t-=1,t===0&&(a?.(),a=void 0,Nn(n))})})))}}var Ts=hn|yn|na;function Cs(e,t,n){new Ns(e,t,n)}class Ns{parent;#e=!1;#t;#a=null;#n;#l;#s;#r=null;#i=null;#o=null;#c=null;#u=null;#f=0;#v=0;#_=!1;#d=null;#b=$s(()=>(this.#d=fn(this.#f),()=>{this.#d=null}));constructor(t,n,a){this.#t=t,this.#n=n,this.#l=a,this.parent=K.b,this.#e=!!this.#n.pending,this.#s=Fa(()=>{K.b=this;{var r=this.#m();try{this.#r=vt(()=>a(r))}catch(s){this.error(s)}this.#v>0?this.#h():this.#e=!1}return()=>{this.#u?.remove()}},Ts)}#y(){try{this.#r=vt(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#w(){const t=this.#n.pending;t&&(this.#i=vt(()=>t(this.#t)),Ot.enqueue(()=>{var n=this.#m();this.#r=this.#p(()=>(Ot.ensure(),vt(()=>this.#l(n)))),this.#v>0?this.#h():(sn(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#m(){var t=this.#t;return this.#e&&(this.#u=en(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#p(t){var n=K,a=R,r=pe;Pt(this.#s),Ze(this.#s),mn(this.#s.ctx);try{return t()}catch(s){return ur(s),null}finally{Pt(n),Ze(a),mn(r)}}#h(){const t=this.#n.pending;this.#r!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),Fr(this.#r,this.#c)),this.#i===null&&(this.#i=vt(()=>t(this.#t)))}#g(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#g(t);return}this.#v+=t,this.#v===0&&(this.#e=!1,this.#i&&sn(this.#i,()=>{this.#i=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#g(t),this.#f+=t,this.#d&&bn(this.#d,this.#f)}get_effect_pending(){return this.#b(),i(this.#d)}error(t){var n=this.#n.onerror;let a=this.#n.failed;if(this.#_||!n&&!a)throw t;this.#r&&(Qe(this.#r),this.#r=null),this.#i&&(Qe(this.#i),this.#i=null),this.#o&&(Qe(this.#o),this.#o=null);var r=!1,s=!1;const u=()=>{if(r){ws();return}r=!0,s&&vs(),Ot.ensure(),this.#f=0,this.#o!==null&&sn(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#r=this.#p(()=>(this.#_=!1,vt(()=>this.#l(this.#t)))),this.#v>0?this.#h():this.#e=!1};var f=R;try{Ze(null),s=!0,n?.(t,u),s=!1}catch(o){gn(o,this.#s&&this.#s.parent)}finally{Ze(f)}a&&aa(()=>{this.#o=this.#p(()=>{Ot.ensure(),this.#_=!0;try{return vt(()=>{a(this.#t,()=>t,()=>u)})}catch(o){return gn(o,this.#s.parent),null}finally{this.#_=!1}})})}}function Ds(e,t,n,a){const r=Ln()?sa:_r;if(n.length===0&&e.length===0){a(t.map(r));return}var s=U,u=K,f=Os();function o(){Promise.all(n.map(v=>Fs(v))).then(v=>{f();try{a([...t.map(r),...v])}catch(d){(u.f&Zt)===0&&gn(d,u)}s?.deactivate(),Kn()}).catch(v=>{gn(v,u)})}e.length>0?Promise.all(e).then(()=>{f();try{return o()}finally{s?.deactivate(),Kn()}}):o()}function Os(){var e=K,t=R,n=pe,a=U;return function(s=!0){Pt(e),Ze(t),mn(n),s&&a?.activate()}}function Kn(){Pt(null),Ze(null),mn(null)}function sa(e){var t=Oe|Xe,n=R!==null&&(R.f&Oe)!==0?R:null;return K!==null&&(K.f|=yn),{ctx:pe,deps:null,effects:null,equals:ir,f:t,fn:e,reactions:null,rv:0,v:je,wv:0,parent:n??K,ac:null}}function Fs(e,t){let n=K;n===null&&rs();var a=n.b,r=void 0,s=fn(je),u=!R,f=new Map;return Hs(()=>{var o=nr();r=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).then(()=>{v===U&&v.committed&&v.deactivate(),Kn()})}catch(_){o.reject(_),Kn()}var v=U;if(u){var d=!a.is_pending();a.update_pending_count(1),v.increment(d),f.get(v)?.reject(pn),f.delete(v),f.set(v,o)}const g=(_,b=void 0)=>{if(v.activate(),b)b!==pn&&(s.f|=Qt,bn(s,b));else{(s.f&Qt)!==0&&(s.f^=Qt),bn(s,_);for(const[S,C]of f){if(f.delete(S),S===v)break;C.reject(pn)}}u&&(a.update_pending_count(-1),v.decrement(d))};o.promise.then(g,_=>g(null,_||"unknown"))}),Oa(()=>{for(const o of f.values())o.reject(pn)}),new Promise(o=>{function v(d){function g(){d===r?o(s):v(r)}d.then(g,g)}v(r)})}function Ct(e){const t=sa(e);return Ir(t),t}function _r(e){const t=sa(e);return t.equals=lr,t}function pr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Qe(t[n])}}function Is(e){for(var t=e.parent;t!==null;){if((t.f&Oe)===0)return(t.f&Zt)===0?t:null;t=t.parent}return null}function Na(e){var t,n=K;Pt(Is(e));try{e.f&=~cn,pr(e),t=Lr(e)}finally{Pt(n)}return t}function hr(e){var t=Na(e);if(e.equals(t)||(U?.is_fork||(e.v=t),e.wv=Mr()),!kn)if(_t!==null)(Fn()||U?.is_fork)&&_t.set(e,t);else{var n=(e.f&kt)===0?It:Ve;He(e,n)}}let ha=new Set;const Xt=new Map;let mr=!1;function fn(e,t){var n={f:0,v:e,reactions:null,equals:ir,rv:0,wv:0};return n}function I(e,t){const n=fn(e);return Ir(n),n}function gr(e,t=!1,n=!0){const a=fn(e);return t||(a.equals=lr),Rn&&n&&pe!==null&&pe.l!==null&&(pe.l.s??=[]).push(a),a}function p(e,t,n=!1){R!==null&&(!Ft||(R.f&ja)!==0)&&Ln()&&(R.f&(Oe|Wt|Ca|ja))!==0&&!jt?.includes(e)&&fs();let a=n?Kt(t):t;return bn(e,a)}function bn(e,t){if(!e.equals(t)){var n=e.v;kn?Xt.set(e,t):Xt.set(e,n),e.v=t;var a=Ot.ensure();a.capture(e,n),(e.f&Oe)!==0&&((e.f&Xe)!==0&&Na(e),He(e,(e.f&kt)!==0?Ve:It)),e.wv=Mr(),br(e,Xe),Ln()&&K!==null&&(K.f&Ve)!==0&&(K.f&(Vt|vn))===0&&(ut===null?Gs([e]):ut.push(e)),!a.is_fork&&ha.size>0&&!mr&&Ps()}return t}function Ps(){mr=!1;var e=on;Zn(!0);const t=Array.from(ha);try{for(const n of t)(n.f&Ve)!==0&&He(n,It),Un(n)&&Pn(n)}finally{Zn(e)}ha.clear()}function Nn(e){p(e,e.v+1)}function br(e,t){var n=e.reactions;if(n!==null)for(var a=Ln(),r=n.length,s=0;s<r;s++){var u=n[s],f=u.f;if(!(!a&&u===K)){var o=(f&Xe)===0;if(o&&He(u,t),(f&Oe)!==0){var v=u;_t?.delete(v),(f&cn)===0&&(f&kt&&(u.f|=cn),br(v,It))}else o&&((f&Wt)!==0&&Lt!==null&&Lt.add(u),un(u))}}}function Kt(e){if(typeof e!="object"||e===null||rn in e)return e;const t=Aa(e);if(t!==Qr&&t!==Xr)return e;var n=new Map,a=Sa(e),r=I(0),s=ln,u=f=>{if(ln===s)return f();var o=R,v=ln;Ze(null),Ga(s);var d=f();return Ze(o),Ga(v),d};return a&&n.set("length",I(e.length)),new Proxy(e,{defineProperty(f,o,v){(!("value"in v)||v.configurable===!1||v.enumerable===!1||v.writable===!1)&&cs();var d=n.get(o);return d===void 0?d=u(()=>{var g=I(v.value);return n.set(o,g),g}):p(d,v.value,!0),!0},deleteProperty(f,o){var v=n.get(o);if(v===void 0){if(o in f){const d=u(()=>I(je));n.set(o,d),Nn(r)}}else p(v,je),Nn(r);return!0},get(f,o,v){if(o===rn)return e;var d=n.get(o),g=o in f;if(d===void 0&&(!g||$n(f,o)?.writable)&&(d=u(()=>{var b=Kt(g?f[o]:je),S=I(b);return S}),n.set(o,d)),d!==void 0){var _=i(d);return _===je?void 0:_}return Reflect.get(f,o,v)},getOwnPropertyDescriptor(f,o){var v=Reflect.getOwnPropertyDescriptor(f,o);if(v&&"value"in v){var d=n.get(o);d&&(v.value=i(d))}else if(v===void 0){var g=n.get(o),_=g?.v;if(g!==void 0&&_!==je)return{enumerable:!0,configurable:!0,value:_,writable:!0}}return v},has(f,o){if(o===rn)return!0;var v=n.get(o),d=v!==void 0&&v.v!==je||Reflect.has(f,o);if(v!==void 0||K!==null&&(!d||$n(f,o)?.writable)){v===void 0&&(v=u(()=>{var _=d?Kt(f[o]):je,b=I(_);return b}),n.set(o,v));var g=i(v);if(g===je)return!1}return d},set(f,o,v,d){var g=n.get(o),_=o in f;if(a&&o==="length")for(var b=v;b<g.v;b+=1){var S=n.get(b+"");S!==void 0?p(S,je):b in f&&(S=u(()=>I(je)),n.set(b+"",S))}if(g===void 0)(!_||$n(f,o)?.writable)&&(g=u(()=>I(void 0)),p(g,Kt(v)),n.set(o,g));else{_=g.v!==je;var C=u(()=>Kt(v));p(g,C)}var m=Reflect.getOwnPropertyDescriptor(f,o);if(m?.set&&m.set.call(d,v),!_){if(a&&typeof o=="string"){var $=n.get("length"),Z=Number(o);Number.isInteger(Z)&&Z>=$.v&&p($,Z+1)}Nn(r)}return!0},ownKeys(f){i(r);var o=Reflect.ownKeys(f).filter(g=>{var _=n.get(g);return _===void 0||_.v!==je});for(var[v,d]of n)d.v!==je&&!(v in f)&&o.push(v);return o},setPrototypeOf(){us()}})}function Va(e){try{if(e!==null&&typeof e=="object"&&rn in e)return e[rn]}catch{}return e}function Ms(e,t){return Object.is(Va(e),Va(t))}var Ha,yr,wr,xr;function Rs(){if(Ha===void 0){Ha=window,yr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;wr=$n(t,"firstChild").get,xr=$n(t,"nextSibling").get,Ua(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ua(n)&&(n.__t=void 0)}}function en(e=""){return document.createTextNode(e)}function Yn(e){return wr.call(e)}function qn(e){return xr.call(e)}function l(e,t){return Yn(e)}function _e(e,t=!1){{var n=Yn(e);return n instanceof Comment&&n.data===""?qn(n):n}}function c(e,t=1,n=!1){let a=e;for(;t--;)a=qn(a);return a}function Ls(e){e.textContent=""}function kr(){return!1}let Ja=!1;function qs(){Ja||(Ja=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Da(e){var t=R,n=K;Ze(null),Pt(null);try{return e()}finally{Ze(t),Pt(n)}}function Er(e,t,n,a=n){e.addEventListener(t,()=>Da(n));const r=e.__on_r;r?e.__on_r=()=>{r(),a(!0)}:e.__on_r=()=>a(!0),qs()}function Sr(e){K===null&&(R===null&&os(),is()),kn&&ss()}function Us(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Mt(e,t,n){var a=K;a!==null&&(a.f&rt)!==0&&(e|=rt);var r={ctx:pe,deps:null,nodes:null,f:e|Xe|kt,first:null,fn:t,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Pn(r),r.f|=Ta}catch(f){throw Qe(r),f}else t!==null&&un(r);var s=r;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&yn)===0&&(s=s.first,(e&Wt)!==0&&(e&hn)!==0&&s!==null&&(s.f|=hn)),s!==null&&(s.parent=a,a!==null&&Us(s,a),R!==null&&(R.f&Oe)!==0&&(e&vn)===0)){var u=R;(u.effects??=[]).push(s)}return r}function Fn(){return R!==null&&!Ft}function Oa(e){const t=Mt(ta,null,!1);return He(t,Ve),t.teardown=e,t}function ma(e){Sr();var t=K.f,n=!R&&(t&Vt)!==0&&(t&Ta)===0;if(n){var a=pe;(a.e??=[]).push(e)}else return Ar(e)}function Ar(e){return Mt($a|rr,e,!1)}function js(e){return Sr(),Mt(ta|rr,e,!0)}function Ws(e){Ot.ensure();const t=Mt(vn|yn,e,!0);return(n={})=>new Promise(a=>{n.outro?sn(t,()=>{Qe(t),a(void 0)}):(Qe(t),a(void 0))})}function Vs(e){return Mt($a,e,!1)}function Hs(e){return Mt(Ca|yn,e,!0)}function $r(e,t=0){return Mt(ta|t,e,!0)}function V(e,t=[],n=[],a=[]){Ds(a,t,n,r=>{Mt(ta,()=>e(...r.map(i)),!0)})}function Fa(e,t=0){var n=Mt(Wt|t,e,!0);return n}function vt(e){return Mt(Vt|yn,e,!0)}function Tr(e){var t=e.teardown;if(t!==null){const n=kn,a=R;za(!0),Ze(null);try{t.call(null)}finally{za(n),Ze(a)}}}function Cr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const r=n.ac;r!==null&&Da(()=>{r.abort(pn)});var a=n.next;(n.f&vn)!==0?n.parent=null:Qe(n,t),n=a}}function Js(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Vt)===0&&Qe(t),t=n}}function Qe(e,t=!0){var n=!1;(t||(e.f&ar)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(zs(e.nodes.start,e.nodes.end),n=!0),Cr(e,t&&!n),Qn(e,0),He(e,Zt);var a=e.nodes&&e.nodes.t;if(a!==null)for(const s of a)s.stop();Tr(e);var r=e.parent;r!==null&&r.first!==null&&Nr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function zs(e,t){for(;e!==null;){var n=e===t?null:qn(e);e.remove(),e=n}}function Nr(e){var t=e.parent,n=e.prev,a=e.next;n!==null&&(n.next=a),a!==null&&(a.prev=n),t!==null&&(t.first===e&&(t.first=a),t.last===e&&(t.last=n))}function sn(e,t,n=!0){var a=[];Dr(e,a,!0);var r=()=>{n&&Qe(e),t&&t()},s=a.length;if(s>0){var u=()=>--s||r();for(var f of a)f.out(u)}else r()}function Dr(e,t,n){if((e.f&rt)===0){e.f^=rt;var a=e.nodes&&e.nodes.t;if(a!==null)for(const f of a)(f.is_global||n)&&t.push(f);for(var r=e.first;r!==null;){var s=r.next,u=(r.f&hn)!==0||(r.f&Vt)!==0&&(e.f&Wt)!==0;Dr(r,t,u?n:!1),r=s}}}function Ia(e){Or(e,!0)}function Or(e,t){if((e.f&rt)!==0){e.f^=rt,(e.f&Ve)===0&&(He(e,Xe),un(e));for(var n=e.first;n!==null;){var a=n.next,r=(n.f&hn)!==0||(n.f&Vt)!==0;Or(n,r?t:!1),n=a}var s=e.nodes&&e.nodes.t;if(s!==null)for(const u of s)(u.is_global||t)&&u.in()}}function Fr(e,t){if(e.nodes)for(var n=e.nodes.start,a=e.nodes.end;n!==null;){var r=n===a?null:qn(n);t.append(n),n=r}}let on=!1;function Zn(e){on=e}let kn=!1;function za(e){kn=e}let R=null,Ft=!1;function Ze(e){R=e}let K=null;function Pt(e){K=e}let jt=null;function Ir(e){R!==null&&(jt===null?jt=[e]:jt.push(e))}let Ge=null,nt=0,ut=null;function Gs(e){ut=e}let Pr=1,In=0,ln=In;function Ga(e){ln=e}function Mr(){return++Pr}function Un(e){var t=e.f;if((t&Xe)!==0)return!0;if(t&Oe&&(e.f&=~cn),(t&It)!==0){var n=e.deps;if(n!==null)for(var a=n.length,r=0;r<a;r++){var s=n[r];if(Un(s)&&hr(s),s.wv>e.wv)return!0}(t&kt)!==0&&_t===null&&He(e,Ve)}return!1}function Rr(e,t,n=!0){var a=e.reactions;if(a!==null&&!jt?.includes(e))for(var r=0;r<a.length;r++){var s=a[r];(s.f&Oe)!==0?Rr(s,t,!1):t===s&&(n?He(s,Xe):(s.f&Ve)!==0&&He(s,It),un(s))}}function Lr(e){var t=Ge,n=nt,a=ut,r=R,s=jt,u=pe,f=Ft,o=ln,v=e.f;Ge=null,nt=0,ut=null,R=(v&(Vt|vn))===0?e:null,jt=null,mn(e.ctx),Ft=!1,ln=++In,e.ac!==null&&(Da(()=>{e.ac.abort(pn)}),e.ac=null);try{e.f|=_a;var d=e.fn,g=d(),_=e.deps;if(Ge!==null){var b;if(Qn(e,nt),_!==null&&nt>0)for(_.length=nt+Ge.length,b=0;b<Ge.length;b++)_[nt+b]=Ge[b];else e.deps=_=Ge;if(Fn()&&(e.f&kt)!==0)for(b=nt;b<_.length;b++)(_[b].reactions??=[]).push(e)}else _!==null&&nt<_.length&&(Qn(e,nt),_.length=nt);if(Ln()&&ut!==null&&!Ft&&_!==null&&(e.f&(Oe|It|Xe))===0)for(b=0;b<ut.length;b++)Rr(ut[b],e);return r!==null&&r!==e&&(In++,ut!==null&&(a===null?a=ut:a.push(...ut))),(e.f&Qt)!==0&&(e.f^=Qt),g}catch(S){return ur(S)}finally{e.f^=_a,Ge=t,nt=n,ut=a,R=r,jt=s,mn(u),Ft=f,ln=o}}function Bs(e,t){let n=t.reactions;if(n!==null){var a=Zr.call(n,e);if(a!==-1){var r=n.length-1;r===0?n=t.reactions=null:(n[a]=n[r],n.pop())}}n===null&&(t.f&Oe)!==0&&(Ge===null||!Ge.includes(t))&&(He(t,It),(t.f&kt)!==0&&(t.f^=kt,t.f&=~cn),pr(t),Qn(t,0))}function Qn(e,t){var n=e.deps;if(n!==null)for(var a=t;a<n.length;a++)Bs(e,n[a])}function Pn(e){var t=e.f;if((t&Zt)===0){He(e,Ve);var n=K,a=on;K=e,on=!0;try{(t&(Wt|ts))!==0?Js(e):Cr(e),Tr(e);var r=Lr(e);e.teardown=typeof r=="function"?r:null,e.wv=Pr;var s;da&&xs&&(e.f&Xe)!==0&&e.deps}finally{on=a,K=n}}}async function Ks(){await Promise.resolve(),Ss()}function i(e){var t=e.f,n=(t&Oe)!==0;if(R!==null&&!Ft){var a=K!==null&&(K.f&Zt)!==0;if(!a&&!jt?.includes(e)){var r=R.deps;if((R.f&_a)!==0)e.rv<In&&(e.rv=In,Ge===null&&r!==null&&r[nt]===e?nt++:Ge===null?Ge=[e]:Ge.includes(e)||Ge.push(e));else{(R.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[R]:s.includes(R)||s.push(R)}}}if(kn){if(Xt.has(e))return Xt.get(e);if(n){var u=e,f=u.v;return((u.f&Ve)===0&&u.reactions!==null||Ur(u))&&(f=Na(u)),Xt.set(u,f),f}}else n&&(!_t?.has(e)||U?.is_fork&&!Fn())&&(u=e,Un(u)&&hr(u),on&&Fn()&&(u.f&kt)===0&&qr(u));if(_t?.has(e))return _t.get(e);if((e.f&Qt)!==0)throw e.v;return e.v}function qr(e){if(e.deps!==null){e.f^=kt;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Oe)!==0&&(t.f&kt)===0&&qr(t)}}function Ur(e){if(e.v===je)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Xt.has(t)||(t.f&Oe)!==0&&Ur(t))return!0;return!1}function jn(e){var t=Ft;try{return Ft=!0,e()}finally{Ft=t}}const Ys=-7169;function He(e,t){e.f=e.f&Ys|t}function Zs(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(rn in e)ga(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&rn in n&&ga(n)}}}function ga(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let a in e)try{ga(e[a],t)}catch{}const n=Aa(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const a=tr(n);for(let r in a){const s=a[r].get;if(s)try{s.call(e)}catch{}}}}}const Qs=["touchstart","touchmove"];function Xs(e){return Qs.includes(e)}const jr=new Set,ba=new Set;function Wn(e){for(var t=0;t<e.length;t++)jr.add(e[t]);for(var n of ba)n(e)}let Ba=null;function zn(e){var t=this,n=t.ownerDocument,a=e.type,r=e.composedPath?.()||[],s=r[0]||e.target;Ba=e;var u=0,f=Ba===e&&e.__root;if(f){var o=r.indexOf(f);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var v=r.indexOf(t);if(v===-1)return;o<=v&&(u=o)}if(s=r[u]||e.target,s!==t){er(e,"currentTarget",{configurable:!0,get(){return s||n}});var d=R,g=K;Ze(null),Pt(null);try{for(var _,b=[];s!==null;){var S=s.assignedSlot||s.parentNode||s.host||null;try{var C=s["__"+a];C!=null&&(!s.disabled||e.target===s)&&C.call(s,e)}catch(m){_?b.push(m):_=m}if(e.cancelBubble||S===t||S===null)break;s=S}if(_){for(let m of b)queueMicrotask(()=>{throw m});throw _}}finally{e.__root=t,delete e.currentTarget,Ze(d),Pt(g)}}}function ei(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function ya(e,t){var n=K;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function k(e,t){var n=(t&ms)!==0,a=(t&gs)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=ei(s?e:"<!>"+e),n||(r=Yn(r)));var u=a||yr?document.importNode(r,!0):r.cloneNode(!0);if(n){var f=Yn(u),o=u.lastChild;ya(f,o)}else ya(u,u);return u}}function tn(){var e=document.createDocumentFragment(),t=document.createComment(""),n=en();return e.append(t,n),ya(t,n),e}function w(e,t){e!==null&&e.before(t)}function y(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function ti(e,t){return ni(e,t)}const dn=new Map;function ni(e,{target:t,anchor:n,props:a={},events:r,context:s,intro:u=!0}){Rs();var f=new Set,o=g=>{for(var _=0;_<g.length;_++){var b=g[_];if(!f.has(b)){f.add(b);var S=Xs(b);t.addEventListener(b,zn,{passive:S});var C=dn.get(b);C===void 0?(document.addEventListener(b,zn,{passive:S}),dn.set(b,1)):dn.set(b,C+1)}}};o(ea(jr)),ba.add(o);var v=void 0,d=Ws(()=>{var g=n??t.appendChild(en());return Cs(g,{pending:()=>{}},_=>{if(s){wn({});var b=pe;b.c=s}r&&(a.$$events=r),v=e(_,a)||{},s&&xn()}),()=>{for(var _ of f){t.removeEventListener(_,zn);var b=dn.get(_);--b===0?(document.removeEventListener(_,zn),dn.delete(_)):dn.set(_,b)}ba.delete(o),g!==n&&g.parentNode?.removeChild(g)}});return ai.set(v,d),v}let ai=new WeakMap;class ri{anchor;#e=new Map;#t=new Map;#a=new Map;#n=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#s=()=>{var t=U;if(this.#e.has(t)){var n=this.#e.get(t),a=this.#t.get(n);if(a)Ia(a),this.#n.delete(n);else{var r=this.#a.get(n);r&&(this.#t.set(n,r.effect),this.#a.delete(n),r.fragment.lastChild.remove(),this.anchor.before(r.fragment),a=r.effect)}for(const[s,u]of this.#e){if(this.#e.delete(s),s===t)break;const f=this.#a.get(u);f&&(Qe(f.effect),this.#a.delete(u))}for(const[s,u]of this.#t){if(s===n||this.#n.has(s))continue;const f=()=>{if(Array.from(this.#e.values()).includes(s)){var v=document.createDocumentFragment();Fr(u,v),v.append(en()),this.#a.set(s,{effect:u,fragment:v})}else Qe(u);this.#n.delete(s),this.#t.delete(s)};this.#l||!a?(this.#n.add(s),sn(u,f,!1)):f()}}};#r=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[a,r]of this.#a)n.includes(a)||(Qe(r.effect),this.#a.delete(a))};ensure(t,n){var a=U,r=kr();if(n&&!this.#t.has(t)&&!this.#a.has(t))if(r){var s=document.createDocumentFragment(),u=en();s.append(u),this.#a.set(t,{effect:vt(()=>n(u)),fragment:s})}else this.#t.set(t,vt(()=>n(this.anchor)));if(this.#e.set(a,t),r){for(const[f,o]of this.#t)f===t?a.skipped_effects.delete(o):a.skipped_effects.add(o);for(const[f,o]of this.#a)f===t?a.skipped_effects.delete(o.effect):a.skipped_effects.add(o.effect);a.oncommit(this.#s),a.ondiscard(this.#r)}else this.#s()}}function G(e,t,n=!1){var a=new ri(e),r=n?hn:0;function s(u,f){a.ensure(u,f)}Fa(()=>{var u=!1;t((f,o=!0)=>{u=!0,s(o,f)}),u||s(!1,null)},r)}function qt(e,t){return t}function si(e,t,n){for(var a=[],r=t.length,s,u=t.length,f=0;f<r;f++){let g=t[f];sn(g,()=>{if(s){if(s.pending.delete(g),s.done.add(g),s.pending.size===0){var _=e.outrogroups;wa(ea(s.done)),_.delete(s),_.size===0&&(e.outrogroups=null)}}else u-=1},!1)}if(u===0){var o=a.length===0&&n!==null;if(o){var v=n,d=v.parentNode;Ls(d),d.append(v),e.items.clear()}wa(t,!o)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function wa(e,t=!0){for(var n=0;n<e.length;n++)Qe(e[n],t)}var Ka;function dt(e,t,n,a,r,s=null){var u=e,f=new Map,o=(t&sr)!==0;if(o){var v=e;u=v.appendChild(en())}var d=null,g=_r(()=>{var $=n();return Sa($)?$:$==null?[]:ea($)}),_,b=!0;function S(){m.fallback=d,ii(m,_,u,t,a),d!==null&&(_.length===0?(d.f&Ut)===0?Ia(d):(d.f^=Ut,An(d,null,u)):sn(d,()=>{d=null}))}var C=Fa(()=>{_=i(g);for(var $=_.length,Z=new Set,P=U,te=kr(),Y=0;Y<$;Y+=1){var le=_[Y],H=a(le,Y),j=b?null:f.get(H);j?(j.v&&bn(j.v,le),j.i&&bn(j.i,Y),te&&P.skipped_effects.delete(j.e)):(j=oi(f,b?u:Ka??=en(),le,H,Y,r,t,n),b||(j.e.f|=Ut),f.set(H,j)),Z.add(H)}if($===0&&s&&!d&&(b?d=vt(()=>s(u)):(d=vt(()=>s(Ka??=en())),d.f|=Ut)),!b)if(te){for(const[Be,ge]of f)Z.has(Be)||P.skipped_effects.add(ge.e);P.oncommit(S),P.ondiscard(()=>{})}else S();i(g)}),m={effect:C,items:f,outrogroups:null,fallback:d};b=!1}function ii(e,t,n,a,r){var s=(a&ps)!==0,u=t.length,f=e.items,o=e.effect.first,v,d=null,g,_=[],b=[],S,C,m,$;if(s)for($=0;$<u;$+=1)S=t[$],C=r(S,$),m=f.get(C).e,(m.f&Ut)===0&&(m.nodes?.a?.measure(),(g??=new Set).add(m));for($=0;$<u;$+=1){if(S=t[$],C=r(S,$),m=f.get(C).e,e.outrogroups!==null)for(const ge of e.outrogroups)ge.pending.delete(m),ge.done.delete(m);if((m.f&Ut)!==0)if(m.f^=Ut,m===o)An(m,null,n);else{var Z=d?d.next:o;m===e.effect.last&&(e.effect.last=m.prev),m.prev&&(m.prev.next=m.next),m.next&&(m.next.prev=m.prev),Gt(e,d,m),Gt(e,m,Z),An(m,Z,n),d=m,_=[],b=[],o=d.next;continue}if((m.f&rt)!==0&&(Ia(m),s&&(m.nodes?.a?.unfix(),(g??=new Set).delete(m))),m!==o){if(v!==void 0&&v.has(m)){if(_.length<b.length){var P=b[0],te;d=P.prev;var Y=_[0],le=_[_.length-1];for(te=0;te<_.length;te+=1)An(_[te],P,n);for(te=0;te<b.length;te+=1)v.delete(b[te]);Gt(e,Y.prev,le.next),Gt(e,d,Y),Gt(e,le,P),o=P,d=le,$-=1,_=[],b=[]}else v.delete(m),An(m,o,n),Gt(e,m.prev,m.next),Gt(e,m,d===null?e.effect.first:d.next),Gt(e,d,m),d=m;continue}for(_=[],b=[];o!==null&&o!==m;)(v??=new Set).add(o),b.push(o),o=o.next;if(o===null)continue}(m.f&Ut)===0&&_.push(m),d=m,o=m.next}if(e.outrogroups!==null){for(const ge of e.outrogroups)ge.pending.size===0&&(wa(ea(ge.done)),e.outrogroups?.delete(ge));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||v!==void 0){var H=[];if(v!==void 0)for(m of v)(m.f&rt)===0&&H.push(m);for(;o!==null;)(o.f&rt)===0&&o!==e.fallback&&H.push(o),o=o.next;var j=H.length;if(j>0){var Be=(a&sr)!==0&&u===0?n:null;if(s){for($=0;$<j;$+=1)H[$].nodes?.a?.measure();for($=0;$<j;$+=1)H[$].nodes?.a?.fix()}si(e,H,Be)}}s&&aa(()=>{if(g!==void 0)for(m of g)m.nodes?.a?.apply()})}function oi(e,t,n,a,r,s,u,f){var o=(u&ds)!==0?(u&hs)===0?gr(n,!1,!1):fn(n):null,v=(u&_s)!==0?fn(r):null;return{v:o,i:v,e:vt(()=>(s(t,o??n,v??r,f),()=>{e.delete(a)}))}}function An(e,t,n){if(e.nodes)for(var a=e.nodes.start,r=e.nodes.end,s=t&&(t.f&Ut)===0?t.nodes.start:n;a!==null;){var u=qn(a);if(s.before(a),a===r)return;a=u}}function Gt(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Ya=[...` 	
\r\f \v\uFEFF`];function li(e,t,n){var a=e==null?"":""+e;if(t&&(a=a?a+" "+t:t),n){for(var r in n)if(n[r])a=a?a+" "+r:r;else if(a.length)for(var s=r.length,u=0;(u=a.indexOf(r,u))>=0;){var f=u+s;(u===0||Ya.includes(a[u-1]))&&(f===a.length||Ya.includes(a[f]))?a=(u===0?"":a.substring(0,u))+a.substring(f+1):u=f}}return a===""?null:a}function We(e,t,n,a,r,s){var u=e.__className;if(u!==n||u===void 0){var f=li(n,a,s);f==null?e.removeAttribute("class"):e.className=f,e.__className=n}else if(s&&r!==s)for(var o in s){var v=!!s[o];(r==null||v!==!!r[o])&&e.classList.toggle(o,v)}return s}function Wr(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Sa(t))return ys();for(var a of e.options)a.selected=t.includes(Dn(a));return}for(a of e.options){var r=Dn(a);if(Ms(r,t)){a.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function ci(e){var t=new MutationObserver(()=>{Wr(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Oa(()=>{t.disconnect()})}function at(e,t,n=t){var a=new WeakSet,r=!0;Er(e,"change",s=>{var u=s?"[selected]":":checked",f;if(e.multiple)f=[].map.call(e.querySelectorAll(u),Dn);else{var o=e.querySelector(u)??e.querySelector("option:not([disabled])");f=o&&Dn(o)}n(f),U!==null&&a.add(U)}),Vs(()=>{var s=t();if(e===document.activeElement){var u=Tn??U;if(a.has(u))return}if(Wr(e,s,r),r&&s===void 0){var f=e.querySelector(":checked");f!==null&&(s=Dn(f),n(s))}e.__value=s,r=!1}),ci(e)}function Dn(e){return"__value"in e?e.__value:e.value}const ui=Symbol("is custom element"),fi=Symbol("is html");function vi(e,t){var n=Vr(e);n.checked!==(n.checked=t??void 0)&&(e.checked=t)}function Gn(e,t,n,a){var r=Vr(e);r[t]!==(r[t]=n)&&(t==="loading"&&(e[ns]=n),n==null?e.removeAttribute(t):typeof n!="string"&&di(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Vr(e){return e.__attributes??={[ui]:e.nodeName.includes("-"),[fi]:e.namespaceURI===bs}}var Za=new Map;function di(e){var t=e.getAttribute("is")||e.nodeName,n=Za.get(t);if(n)return n;Za.set(t,n=[]);for(var a,r=e,s=Element.prototype;s!==r;){a=tr(r);for(var u in a)a[u].set&&n.push(u);r=Aa(r)}return n}function xt(e,t,n=t){var a=new WeakSet;Er(e,"input",async r=>{var s=r?e.defaultValue:e.value;if(s=fa(e)?va(s):s,n(s),U!==null&&a.add(U),await Ks(),s!==(s=t())){var u=e.selectionStart,f=e.selectionEnd,o=e.value.length;if(e.value=s??"",f!==null){var v=e.value.length;u===f&&f===o&&v>o?(e.selectionStart=v,e.selectionEnd=v):(e.selectionStart=u,e.selectionEnd=Math.min(f,v))}}}),jn(t)==null&&e.value&&(n(fa(e)?va(e.value):e.value),U!==null&&a.add(U)),$r(()=>{var r=t();if(e===document.activeElement){var s=Tn??U;if(a.has(s))return}fa(e)&&r===va(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function fa(e){var t=e.type;return t==="number"||t==="range"}function va(e){return e===""?null:+e}function Hr(e=!1){const t=pe,n=t.l.u;if(!n)return;let a=()=>Zs(t.s);if(e){let r=0,s={};const u=sa(()=>{let f=!1;const o=t.s;for(const v in o)o[v]!==s[v]&&(s[v]=o[v],f=!0);return f&&r++,r});a=()=>i(u)}n.b.length&&js(()=>{Qa(t,a),Bn(n.b)}),ma(()=>{const r=jn(()=>n.m.map(es));return()=>{for(const s of r)typeof s=="function"&&s()}}),n.a.length&&ma(()=>{Qa(t,a),Bn(n.a)})}function Qa(e,t){if(e.l.s)for(const n of e.l.s)i(n);t()}function Pa(e,t,n){if(e==null)return t(void 0),n&&n(void 0),Yt;const a=jn(()=>e.subscribe(t,n));return a.unsubscribe?()=>a.unsubscribe():a}const _n=[];function _i(e,t){return{subscribe:st(e,t).subscribe}}function st(e,t=Yt){let n=null;const a=new Set;function r(f){if(or(e,f)&&(e=f,n)){const o=!_n.length;for(const v of a)v[1](),_n.push(v,e);if(o){for(let v=0;v<_n.length;v+=2)_n[v][0](_n[v+1]);_n.length=0}}}function s(f){r(f(e))}function u(f,o=Yt){const v=[f,o];return a.add(v),a.size===1&&(n=t(r,s)||Yt),f(e),()=>{a.delete(v),a.size===0&&n&&(n(),n=null)}}return{set:r,update:s,subscribe:u}}function ia(e,t,n){const a=!Array.isArray(e),r=a?[e]:e;if(!r.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const s=t.length<2;return _i(n,(u,f)=>{let o=!1;const v=[];let d=0,g=Yt;const _=()=>{if(d)return;g();const S=t(a?v[0]:v,u,f);s?u(S):g=typeof S=="function"?S:Yt},b=r.map((S,C)=>Pa(S,m=>{v[C]=m,d&=~(1<<C),o&&_()},()=>{d|=1<<C}));return o=!0,_(),function(){Bn(b),g(),o=!1}})}function pi(e){let t;return Pa(e,n=>t=n)(),t}let xa=Symbol();function ie(e,t,n){const a=n[t]??={store:null,source:gr(void 0),unsubscribe:Yt};if(a.store!==e&&!(xa in n))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=Yt;else{var r=!0;a.unsubscribe=Pa(e,s=>{r?a.source.v=s:p(a.source,s)}),r=!1}return e&&xa in n?pi(e):i(a.source)}function hi(e,t){return e.set(t),t}function Vn(){const e={};function t(){Oa(()=>{for(var n in e)e[n].unsubscribe();er(e,xa,{enumerable:!1,value:!0})})}return[e,t]}function mi(e){pe===null&&as(),Rn&&pe.l!==null?gi(pe).m.push(e):ma(()=>{const t=jn(e);if(typeof t=="function")return t})}function gi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const bi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(bi);ks();const Mn=st(!1);class yi{url;ws=null;handlers=new Map;reconnectDelay=1e3;maxReconnectDelay=3e4;constructor(){const t=window.location.protocol==="https:"?"wss:":"ws:",n=window.location.host;this.url=`${t}//${n}/ws`}connect(){console.log("[WS] Connecting to:",this.url),this.ws=new WebSocket(this.url),this.ws.onopen=()=>{console.log("[WS] Connected"),this.reconnectDelay=1e3,Mn.set(!0)},this.ws.onmessage=t=>{try{const n=JSON.parse(t.data);console.log("[WS] Message:",n.type),this.dispatch(n.type,n)}catch(n){console.error("[WS] Failed to parse message:",n)}},this.ws.onclose=()=>{console.log("[WS] Closed, reconnecting in",this.reconnectDelay,"ms"),Mn.set(!1),setTimeout(()=>this.connect(),this.reconnectDelay),this.reconnectDelay=Math.min(this.reconnectDelay*2,this.maxReconnectDelay)},this.ws.onerror=t=>{console.error("[WS] Error:",t)}}on(t,n){return this.handlers.has(t)||this.handlers.set(t,[]),this.handlers.get(t).push(n),()=>this.off(t,n)}off(t,n){const a=this.handlers.get(t);if(a){const r=a.indexOf(n);r!==-1&&a.splice(r,1)}}dispatch(t,n){(this.handlers.get(t)||[]).forEach(r=>{try{r(n)}catch(s){console.error("[WS] Handler error:",s)}})}send(t){this.ws?.readyState===WebSocket.OPEN&&this.ws.send(JSON.stringify(t))}}const Bt=new yi;class wi{baseUrl;constructor(t=""){this.baseUrl=t}async request(t,n,a){const r={method:t,headers:{"Content-Type":"application/json"}};a&&(r.body=JSON.stringify(a));const u=await(await fetch(`${this.baseUrl}${n}`,r)).json();if(!u.success)throw new Error(u.error||"Unknown error");return u.data}getSystemInfo(){return this.request("GET","/api/v1/system/info")}getNetworkStatus(){return this.request("GET","/api/v1/network/status")}permitJoin(t=60){return this.request("POST","/api/v1/network/permit-join",{duration:t})}getDevices(){return this.request("GET","/api/v1/devices")}getDevice(t){return this.request("GET",`/api/v1/devices/${t}`)}updateDevice(t,n,a){return this.request("PUT",`/api/v1/devices/${t}`,{friendly_name:n||null,category:a||null})}turnOn(t,n){return this.request("POST",`/api/v1/devices/${t}/endpoints/${n}/on`)}turnOff(t,n){return this.request("POST",`/api/v1/devices/${t}/endpoints/${n}/off`)}toggle(t,n){return this.request("POST",`/api/v1/devices/${t}/endpoints/${n}/toggle`)}getCameras(){return this.request("GET","/api/v1/cameras")}addCamera(t,n,a,r,s){const u={name:t,stream_url:n,stream_type:a};return r&&(u.username=r),s&&(u.password=s),this.request("POST","/api/v1/cameras",u)}deleteCamera(t){return this.request("DELETE",`/api/v1/cameras/${t}`)}getCameraStreamUrl(t){return`${this.baseUrl}/api/v1/cameras/${t}/stream`}getAutomations(){return this.request("GET","/api/v1/automations")}getAutomation(t){return this.request("GET",`/api/v1/automations/${t}`)}createAutomation(t){return this.request("POST","/api/v1/automations",t)}updateAutomation(t,n){return this.request("PUT",`/api/v1/automations/${t}`,n)}deleteAutomation(t){return this.request("DELETE",`/api/v1/automations/${t}`)}triggerAutomation(t){return this.request("POST",`/api/v1/automations/${t}/trigger`)}enableAutomation(t){return this.request("POST",`/api/v1/automations/${t}/enable`)}disableAutomation(t){return this.request("POST",`/api/v1/automations/${t}/disable`)}}const $e=new wi,oa=st([]),Jr=st([]),la=st([]),Ma=st(null),ca=st(null),Xa=st("devices"),ka=st(!1),Ea=st(0),pt=st({devices:!1,cameras:!1,automations:!1,network:!1}),En=st(null),xi=st(!0),Ra=ia([ca,Ma,Mn,xi],([e,t,n,a])=>{const r=a?{state:"online",detail:e?`v${e.version}`:"responding"}:{state:"offline",detail:"not reachable"},s=e?.firmware&&e.firmware!=="Unknown",u=s?{state:"online",detail:`fw:${e.firmware}`}:{state:"offline",detail:"not detected"};let f;return s?t?.connected?f={state:"online",detail:`ch:${t.channel} ${t.device_count} devices`}:f={state:"degraded",detail:"not joined"}:f={state:"offline",detail:"no coordinator"},{backend:r,coordinator:u,zigbee:f,websocket:n?{state:"online",detail:"connected"}:{state:"offline",detail:"reconnecting..."}}}),zr=ia(Ra,e=>{const t=[e.backend.state,e.coordinator.state,e.zigbee.state,e.websocket.state];return t.every(n=>n==="online")?"online":t.some(n=>n==="offline")||t.some(n=>n==="degraded")?"degraded":"unknown"}),Gr=ia(oa,e=>e.length),ki=ia(la,e=>e.filter(t=>t.enabled).length);function Nt(e){return Array.isArray(e)?e.slice().reverse().map(t=>t.toString(16).padStart(2,"0")).join(":"):String(e)}async function an(){pt.update(e=>({...e,devices:!0}));try{const e=await $e.getDevices();oa.set(e)}catch(e){En.set(`Failed to load devices: ${e}`)}finally{pt.update(e=>({...e,devices:!1}))}}async function On(){pt.update(e=>({...e,cameras:!0}));try{const e=await $e.getCameras();Jr.set(e)}catch(e){En.set(`Failed to load cameras: ${e}`)}finally{pt.update(e=>({...e,cameras:!1}))}}async function Dt(){pt.update(e=>({...e,automations:!0}));try{const e=await $e.getAutomations();la.set(e)}catch(e){En.set(`Failed to load automations: ${e}`)}finally{pt.update(e=>({...e,automations:!1}))}}async function Xn(){pt.update(e=>({...e,network:!0}));try{const e=await $e.getNetworkStatus();Ma.set(e)}catch(e){En.set(`Failed to load network status: ${e}`)}finally{pt.update(e=>({...e,network:!1}))}}async function Br(){try{const e=await $e.getSystemInfo();ca.set(e)}catch(e){En.set(`Failed to load system info: ${e}`)}}async function Ei(){await Promise.all([an(),On(),Dt(),Xn(),Br()])}let Sn=null;async function Si(e=60){try{await $e.permitJoin(e),ka.set(!0),Ea.set(e),Sn&&clearInterval(Sn),Sn=setInterval(()=>{Ea.update(t=>t<=1?(clearInterval(Sn),Sn=null,ka.set(!1),0):t-1)},1e3)}catch(t){En.set(`Failed to permit join: ${t}`)}}var Ai=k('<div class="empty-state">No devices found. Click "Permit Join" to pair new devices.</div>'),$i=k("<span> </span>"),Ti=k('<span class="muted">-</span>'),Ci=k('<button class="btn btn-sm"> </button>'),Ni=k('<div class="data-row svelte-1cs4wva"><span class="mono text-sm"> </span> <span><span> </span> <span class="tag"> </span></span> <span class="mono text-xs muted"> </span> <span class="mono text-xs"> </span> <span class="mono text-xs"> </span> <span><!></span> <span class="flex gap-xs"><!> <button class="btn btn-sm">Edit</button></span></div>'),Di=k('<div class="data-grid device-grid svelte-1cs4wva"><div class="data-row data-row-header svelte-1cs4wva"><span>Name</span> <span>Type</span> <span>IEEE Address</span> <span>NWK</span> <span>LQI</span> <span>State</span> <span>Actions</span></div> <!></div>'),Oi=k("<option> </option>"),Fi=k('<div class="modal-backdrop"><div class="modal"><div class="modal-header"><span class="modal-title">Edit Device</span> <button class="btn btn-sm">×</button></div> <div class="modal-body"><div class="info-panel mb-md"><div class="info-row"><span class="info-label">IEEE</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Model</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Manufacturer</span> <span class="info-value"> </span></div></div> <div class="form-group"><label class="form-label" for="edit-name">Friendly Name</label> <input id="edit-name" class="form-input" type="text" placeholder="e.g., Living Room Light"/></div> <div class="form-group"><label class="form-label" for="edit-category">Category</label> <select id="edit-category" class="form-select"></select></div></div> <div class="modal-footer"><button class="btn">Cancel</button> <button class="btn btn-primary">Save</button></div></div></div>'),Ii=k('<div class="toolbar"><button class="btn btn-primary"> </button> <button class="btn">Refresh</button> <div class="toolbar-spacer"></div> <span class="text-sm muted"> </span></div> <!> <!>',1);function Pi(e,t){wn(t,!0);const n=()=>ie(ka,"$permitJoinActive",u),a=()=>ie(Ea,"$permitJoinRemaining",u),r=()=>ie(pt,"$loading",u),s=()=>ie(oa,"$devices",u),[u,f]=Vn();let o=I(null),v=I(""),d=I("other");const g=["light","outlet","switch","sensor","lock","thermostat","fan","blinds","other"];function _(E){return{light:"tag-yellow",outlet:"tag-blue",switch:"tag-purple",sensor:"tag-green",lock:"tag-red",thermostat:"tag-blue",fan:"tag-purple",blinds:"tag-yellow",other:""}[E]||""}async function b(E,L){const Q=Nt(E.ieee_address);try{await $e.toggle(Q,L)}catch(B){console.error("Toggle failed:",B)}}function S(E){p(o,E,!0),p(v,E.friendly_name||"",!0),p(d,E.category||"other",!0)}async function C(){if(!i(o))return;const E=Nt(i(o).ieee_address);try{await $e.updateDevice(E,i(v)||void 0,i(d)),p(o,null),an()}catch(L){console.error("Failed to update device:",L)}}function m(E){const L=E.endpoints.filter(Q=>Q.in_clusters.includes(6)||Q.in_clusters.includes(8)).map(Q=>Q.id);return L.length>0?L:[1]}var $=Ii(),Z=_e($),P=l(Z);P.__click=()=>Si(60);var te=l(P),Y=c(P,2);Y.__click=()=>an();var le=c(Y,4),H=l(le),j=c(Z,2);{var Be=E=>{var L=Ai();w(E,L)},ge=E=>{var L=Di(),Q=c(l(L),2);dt(Q,1,s,B=>Nt(B.ieee_address),(B,J)=>{const Fe=Ct(()=>Nt(i(J).ieee_address)),be=Ct(()=>i(J).friendly_name||i(J).model||i(Fe)),N=Ct(()=>m(i(J)));var X=Ni(),re=l(X),ce=l(re),he=c(re,2),oe=l(he),Te=l(oe),Ie=c(oe,2),Ce=l(Ie),Je=c(he,2),ye=l(Je),Pe=c(Je,2),et=l(Pe),xe=c(Pe,2),Ne=l(xe),ee=c(xe,2),ue=l(ee);{var fe=W=>{var se=$i();let ke;var Ke=l(se);V(()=>{ke=We(se,1,"tag",null,ke,{"tag-green":i(J).state_on,"tag-red":!i(J).state_on}),y(Ke,i(J).state_on?"ON":"OFF")}),w(W,se)},h=W=>{var se=Ti();w(W,se)};G(ue,W=>{i(J).state_on!==void 0?W(fe):W(h,!1)})}var x=c(ee,2),A=l(x);dt(A,17,()=>i(N),qt,(W,se)=>{var ke=Ci();ke.__click=()=>b(i(J),i(se));var Ke=l(ke);V(()=>y(Ke,i(N).length>1?`EP${i(se)}`:"Toggle")),w(W,ke)});var T=c(A,2);T.__click=()=>S(i(J)),V((W,se,ke)=>{Gn(re,"title",i(be)),y(ce,W),We(oe,1,`tag ${se??""}`,"svelte-1cs4wva"),y(Te,i(J).category||"other"),y(Ce,i(J).device_type),y(ye,i(Fe)),y(et,`0x${ke??""}`),y(Ne,i(J).lqi??"-")},[()=>i(be).length>20?i(be).slice(0,20)+"...":i(be),()=>_(i(J).category||"other"),()=>i(J).nwk_address.toString(16).padStart(4,"0").toUpperCase()]),w(B,X)}),w(E,L)};G(j,E=>{s().length===0?E(Be):E(ge,!1)})}var Et=c(j,2);{var St=E=>{const L=Ct(()=>Nt(i(o).ieee_address));var Q=Fi();Q.__click=()=>p(o,null);var B=l(Q);B.__click=fe=>fe.stopPropagation();var J=l(B),Fe=c(l(J),2);Fe.__click=()=>p(o,null);var be=c(J,2),N=l(be),X=l(N),re=c(l(X),2),ce=l(re),he=c(X,2),oe=c(l(he),2),Te=l(oe),Ie=c(he,2),Ce=c(l(Ie),2),Je=l(Ce),ye=c(N,2),Pe=c(l(ye),2),et=c(ye,2),xe=c(l(et),2);dt(xe,21,()=>g,qt,(fe,h)=>{var x=Oi(),A=l(x),T={};V(()=>{y(A,i(h)),T!==(T=i(h))&&(x.value=(x.__value=i(h))??"")}),w(fe,x)});var Ne=c(be,2),ee=l(Ne);ee.__click=()=>p(o,null);var ue=c(ee,2);ue.__click=C,V(()=>{y(ce,i(L)),y(Te,i(o).model||"Unknown"),y(Je,i(o).manufacturer||"Unknown")}),xt(Pe,()=>i(v),fe=>p(v,fe)),at(xe,()=>i(d),fe=>p(d,fe)),w(E,Q)};G(Et,E=>{i(o)&&E(St)})}V(()=>{P.disabled=n(),y(te,n()?`Joining (${a()}s)`:"Permit Join"),Y.disabled=r().devices,y(H,`${s().length??""} device(s)`)}),w(e,$),xn(),f()}Wn(["click"]);var Mi=k('<div class="empty-state">No automations configured.<br/> <span class="text-xs">Use "Link Devices" to connect a button to control another device.</span></div>'),Ri=k('<span class="interaction-flow svelte-2b6lb5"><span class="mono"> </span> <span class="flow-arrow svelte-2b6lb5">→</span> <span class="mono"> </span></span> <span class="tag tag-blue">interaction</span>',1),Li=k('<span class="mono"> </span>'),qi=k('<div class="automation-desc text-sm muted svelte-2b6lb5">When <strong class="svelte-2b6lb5"> </strong>, <strong class="svelte-2b6lb5"> </strong> target</div>'),Ui=k('<div class="automation-desc text-sm muted svelte-2b6lb5"> </div>'),ji=k('<div class="automation-meta svelte-2b6lb5"><span class="meta-item svelte-2b6lb5"><span class="meta-label svelte-2b6lb5">Trigger:</span> <span class="mono"> </span></span> <span class="meta-item svelte-2b6lb5"><span class="meta-label svelte-2b6lb5">Actions:</span> <span class="mono"> </span></span></div>'),Wi=k('<div><div class="automation-header svelte-2b6lb5"><div class="automation-name svelte-2b6lb5"><!> <span> </span></div> <div class="automation-actions svelte-2b6lb5"><button class="btn btn-sm"> </button> <button class="btn btn-sm btn-primary">Run</button> <button class="btn btn-sm">Edit</button> <button class="btn btn-sm btn-danger">Del</button></div></div> <!> <!></div>'),Vi=k('<div class="automation-list svelte-2b6lb5"></div>'),Hi=k("<option> </option>"),Ji=k("<option> </option>"),zi=k('<div class="link-preview svelte-2b6lb5"><span class="mono"> </span> <span class="flow-arrow svelte-2b6lb5">→</span> <span class="mono"> </span></div>'),Gi=k('<div class="modal-backdrop" role="button" tabindex="-1"><div class="modal" role="dialog"><div class="modal-header"><span class="modal-title">Link Devices</span> <button class="btn btn-sm">×</button></div> <div class="modal-body"><p class="text-sm muted mb-md">Create a simple interaction: when one device triggers, control another.</p> <div class="link-builder svelte-2b6lb5"><div class="link-row svelte-2b6lb5"><span class="link-label svelte-2b6lb5">When</span> <select class="form-select svelte-2b6lb5"><option>Select source device...</option><!></select></div> <div class="link-row svelte-2b6lb5"><span class="link-label svelte-2b6lb5">is</span> <select class="form-select svelte-2b6lb5"><option>toggled</option><option>turned on</option><option>turned off</option></select></div> <div class="link-row svelte-2b6lb5"><span class="link-label svelte-2b6lb5">then</span> <select class="form-select svelte-2b6lb5"><option>toggle</option><option>turn on</option><option>turn off</option></select></div> <div class="link-row svelte-2b6lb5"><span class="link-label svelte-2b6lb5"></span> <select class="form-select svelte-2b6lb5"><option>Select target device...</option><!></select></div></div> <!></div> <div class="modal-footer"><button class="btn">Cancel</button> <button class="btn btn-primary">Create Link</button></div></div></div>'),Bi=k('<label class="form-check"><input type="checkbox"/> </label>'),Ki=k('<div class="form-group"><label class="form-label" for="sched-time">Time</label> <input id="sched-time" class="form-input" type="time"/></div> <div class="form-group"><label class="form-label">Days</label> <div class="flex gap-sm"></div></div>',1),Yi=k('<div class="form-group"><label class="form-label" for="interval-sec">Interval (seconds)</label> <input id="interval-sec" class="form-input" type="number" min="10"/></div>'),Zi=k('<div class="form-group"><label class="form-label" for="sched-type">Schedule Type</label> <select id="sched-type" class="form-select"><option>Time of Day</option><option>Interval</option></select></div> <!>',1),Qi=k("<option> </option>"),Xi=k('<div class="form-group"><label class="form-label" for="trigger-device">Device</label> <select id="trigger-device" class="form-select"><option>Select...</option><!></select></div> <div class="form-group"><label class="form-label" for="state-change">State Change</label> <select id="state-change" class="form-select"><option>Any</option><option>Turned On</option><option>Turned Off</option><option>Toggled</option></select></div>',1),eo=k("<option> </option>"),to=k('<select class="form-select"><option>Device...</option><!></select> <select class="form-select action-cmd-select svelte-2b6lb5"><option>On</option><option>Off</option><option>Toggle</option></select>',1),no=k('<input class="form-input" type="number" placeholder="Seconds" style="width: 80px"/> <span class="text-sm muted">seconds</span>',1),ao=k('<input class="form-input" type="text" placeholder="Log message"/>'),ro=k('<div class="action-row svelte-2b6lb5"><select class="form-select action-type-select svelte-2b6lb5"><option>Device</option><option>Delay</option><option>Log</option></select> <!> <button class="btn btn-sm btn-danger">×</button></div>'),so=k('<div class="modal-backdrop" role="button" tabindex="-1"><div class="modal modal-lg" role="dialog"><div class="modal-header"><span class="modal-title"> </span> <button class="btn btn-sm">×</button></div> <div class="modal-body"><div class="form-group"><label class="form-label" for="auto-name">Name</label> <input id="auto-name" class="form-input" type="text" placeholder="e.g., Evening Lights" required/></div> <div class="form-group"><label class="form-label" for="auto-desc">Description</label> <input id="auto-desc" class="form-input" type="text" placeholder="Optional description"/></div> <div class="section"><div class="section-title">Trigger</div> <div class="form-group"><label class="form-label" for="trigger-type">Type</label> <select id="trigger-type" class="form-select"><option>Manual Only</option><option>Schedule</option><option>Device State</option></select></div> <!></div> <div class="section"><div class="section-title">Actions</div> <!> <button class="btn btn-sm">+ Add Action</button></div></div> <div class="modal-footer"><button class="btn">Cancel</button> <button class="btn btn-primary">Save</button></div></div></div>'),io=k('<div class="toolbar"><button class="btn btn-primary">Link Devices</button> <button class="btn">Add Automation</button> <button class="btn">Refresh</button> <div class="toolbar-spacer"></div> <span class="text-sm muted"> </span></div> <!> <!> <!>',1);function oo(e,t){wn(t,!0);const n=()=>ie(oa,"$devices",s),a=()=>ie(pt,"$loading",s),r=()=>ie(la,"$automations",s),[s,u]=Vn();let f=I(!1),o=I(""),v=I("toggled"),d=I(""),g=I("toggle"),_=I(!1),b=I(null),S=I(""),C=I(""),m=I("manual"),$=I("time_of_day"),Z=I("18:00"),P=I(Kt([1,2,3,4,5])),te=I(300),Y=I(""),le=I("any"),H=I(Kt([]));function j(h){const x=n().find(A=>Nt(A.ieee_address)===h);return x?.friendly_name||x?.model||h.slice(0,11)+"..."}function Be(h){return h.trigger.type==="device_state"&&h.actions.length===1&&h.actions[0].type==="device_control"}function ge(h){if(!Be(h))return null;const x=h.trigger,A=h.actions[0];return{source:j(x.device_ieee),trigger:x.state_change.type,target:j(A.device_ieee),action:A.command.type}}function Et(){p(b,null),p(S,""),p(C,""),p(m,"manual"),p($,"time_of_day"),p(Z,"18:00"),p(P,[1,2,3,4,5],!0),p(te,300),p(Y,""),p(le,"any"),p(H,[{type:"device_control",deviceIeee:"",endpoint:1,command:"toggle",seconds:5,message:""}],!0)}function St(){p(o,""),p(v,"toggled"),p(d,""),p(g,"toggle")}function E(){Et(),p(_,!0)}function L(){St(),p(f,!0)}function Q(h){p(b,h.id,!0),p(S,h.name,!0),p(C,h.description||"",!0),p(m,h.trigger.type,!0),h.trigger.type==="schedule"?(p($,h.trigger.schedule.type,!0),h.trigger.schedule.type==="time_of_day"?(p(Z,h.trigger.schedule.time,!0),p(P,[...h.trigger.schedule.days],!0)):p(te,h.trigger.schedule.seconds,!0)):h.trigger.type==="device_state"&&(p(Y,h.trigger.device_ieee,!0),p(le,h.trigger.state_change.type,!0)),p(H,h.actions.map(x=>x.type==="device_control"?{type:"device_control",deviceIeee:x.device_ieee,endpoint:x.endpoint,command:x.command.type,seconds:5,message:""}:x.type==="delay"?{type:"delay",deviceIeee:"",endpoint:1,command:"toggle",seconds:x.seconds,message:""}:{type:"log",deviceIeee:"",endpoint:1,command:"toggle",seconds:5,message:x.message}),!0),p(_,!0)}function B(){p(H,[...i(H),{type:"device_control",deviceIeee:"",endpoint:1,command:"toggle",seconds:5,message:""}],!0)}function J(h){p(H,i(H).filter((x,A)=>A!==h),!0)}async function Fe(){if(!i(o)||!i(d))return;const h=j(i(o)),x=j(i(d)),A=`${h} → ${x}`;try{await $e.createAutomation({name:A,description:`When ${h} ${i(v).replace("_"," ")}, ${i(g).replace("_"," ")} ${x}`,trigger:{type:"device_state",device_ieee:i(o),state_change:{type:i(v)}},actions:[{type:"device_control",device_ieee:i(d),endpoint:1,command:{type:i(g)}}]}),p(f,!1),Dt()}catch(T){console.error("Failed to create link:",T)}}async function be(){let h;i(m)==="manual"?h={type:"manual"}:i(m)==="schedule"?h={type:"schedule",schedule:i($)==="time_of_day"?{type:"time_of_day",time:i(Z),days:i(P)}:{type:"interval",seconds:i(te)}}:h={type:"device_state",device_ieee:i(Y),state_change:{type:i(le)}};const x=i(H).filter(A=>A.type==="delay"||A.type==="log"||A.type==="device_control"&&A.deviceIeee).map(A=>A.type==="device_control"?{type:"device_control",device_ieee:A.deviceIeee,endpoint:A.endpoint,command:{type:A.command}}:A.type==="delay"?{type:"delay",seconds:A.seconds}:{type:"log",message:A.message,level:"info"});try{i(b)?await $e.updateAutomation(i(b),{name:i(S),description:i(C)||void 0,trigger:h,actions:x}):await $e.createAutomation({name:i(S),description:i(C)||void 0,trigger:h,actions:x}),p(_,!1),Dt()}catch(A){console.error("Failed to save:",A)}}async function N(h){try{h.enabled?await $e.disableAutomation(h.id):await $e.enableAutomation(h.id),Dt()}catch(x){console.error("Failed to toggle:",x)}}async function X(h){try{await $e.triggerAutomation(h)}catch(x){console.error("Failed to trigger:",x)}}async function re(h,x){if(confirm(`Delete "${x}"?`))try{await $e.deleteAutomation(h),Dt()}catch(A){console.error("Failed to delete:",A)}}function ce(h){if(h.type==="manual")return"Manual";if(h.type==="schedule"){if(h.schedule.type==="time_of_day"){const x=h.schedule.days.length===0?"daily":h.schedule.days.map(A=>["Su","Mo","Tu","We","Th","Fr","Sa"][A]).join(",");return`${h.schedule.time} (${x})`}return`Every ${h.schedule.seconds}s`}return j(h.device_ieee)}var he=io(),oe=_e(he),Te=l(oe);Te.__click=L;var Ie=c(Te,2);Ie.__click=E;var Ce=c(Ie,2);Ce.__click=()=>Dt();var Je=c(Ce,4),ye=l(Je),Pe=c(oe,2);{var et=h=>{var x=Mi();w(h,x)},xe=h=>{var x=Vi();dt(x,5,r,A=>A.id,(A,T)=>{const W=Ct(()=>ge(i(T)));var se=Wi();let ke;var Ke=l(se),ht=l(Ke),At=l(ht);{var Ht=ne=>{var O=Ri(),F=_e(O),de=l(F),D=l(de),M=c(de,4),z=l(M);V(()=>{y(D,i(W).source),y(z,i(W).target)}),w(ne,O)},Jt=ne=>{var O=Li(),F=l(O);V(()=>y(F,i(T).name)),w(ne,O)};G(At,ne=>{i(W)?ne(Ht):ne(Jt,!1)})}var $t=c(At,2);let it;var mt=l($t),Tt=c(ht,2),q=l(Tt);q.__click=()=>N(i(T));var me=l(q),Ee=c(q,2);Ee.__click=()=>X(i(T).id);var Me=c(Ee,2);Me.__click=()=>Q(i(T));var ze=c(Me,2);ze.__click=()=>re(i(T).id,i(T).name);var ve=c(Ke,2);{var De=ne=>{var O=qi(),F=c(l(O)),de=l(F),D=c(F,2),M=l(D);V((z,ae)=>{y(de,z),y(M,ae)},[()=>i(W).trigger.replace("_"," "),()=>i(W).action.replace("_"," ")]),w(ne,O)},Ye=ne=>{var O=tn(),F=_e(O);{var de=D=>{var M=Ui(),z=l(M);V(()=>y(z,i(T).description)),w(D,M)};G(F,D=>{i(T).description&&D(de)},!0)}w(ne,O)};G(ve,ne=>{i(W)?ne(De):ne(Ye,!1)})}var gt=c(ve,2);{var ot=ne=>{var O=ji(),F=l(O),de=c(l(F),2),D=l(de),M=c(F,2),z=c(l(M),2),ae=l(z);V(Se=>{y(D,Se),y(ae,i(T).actions.length)},[()=>ce(i(T).trigger)]),w(ne,O)};G(gt,ne=>{i(W)||ne(ot)})}V(()=>{ke=We(se,1,"automation-card svelte-2b6lb5",null,ke,{"disabled-card":!i(T).enabled}),it=We($t,1,"tag",null,it,{"tag-green":i(T).enabled,"tag-red":!i(T).enabled}),y(mt,i(T).enabled?"ON":"OFF"),y(me,i(T).enabled?"Disable":"Enable")}),w(A,se)}),w(h,x)};G(Pe,h=>{r().length===0?h(et):h(xe,!1)})}var Ne=c(Pe,2);{var ee=h=>{var x=Gi();x.__click=()=>p(f,!1),x.__keydown=D=>D.key==="Escape"&&p(f,!1);var A=l(x);A.__click=D=>D.stopPropagation();var T=l(A),W=c(l(T),2);W.__click=()=>p(f,!1);var se=c(T,2),ke=c(l(se),2),Ke=l(ke),ht=c(l(Ke),2),At=l(ht);At.value=At.__value="";var Ht=c(At);dt(Ht,1,n,qt,(D,M)=>{const z=Ct(()=>Nt(i(M).ieee_address));var ae=Hi(),Se=l(ae),we={};V(()=>{y(Se,i(M).friendly_name||i(M).model||i(z)),we!==(we=i(z))&&(ae.value=(ae.__value=i(z))??"")}),w(D,ae)});var Jt=c(Ke,2),$t=c(l(Jt),2),it=l($t);it.value=it.__value="toggled";var mt=c(it);mt.value=mt.__value="turned_on";var Tt=c(mt);Tt.value=Tt.__value="turned_off";var q=c(Jt,2),me=c(l(q),2),Ee=l(me);Ee.value=Ee.__value="toggle";var Me=c(Ee);Me.value=Me.__value="turn_on";var ze=c(Me);ze.value=ze.__value="turn_off";var ve=c(q,2),De=c(l(ve),2),Ye=l(De);Ye.value=Ye.__value="";var gt=c(Ye);dt(gt,1,n,qt,(D,M)=>{const z=Ct(()=>Nt(i(M).ieee_address));var ae=Ji(),Se=l(ae),we={};V(()=>{y(Se,i(M).friendly_name||i(M).model||i(z)),we!==(we=i(z))&&(ae.value=(ae.__value=i(z))??"")}),w(D,ae)});var ot=c(ke,2);{var ne=D=>{var M=zi(),z=l(M),ae=l(z),Se=c(z,4),we=l(Se);V((Re,tt)=>{y(ae,Re),y(we,tt)},[()=>j(i(o)),()=>j(i(d))]),w(D,M)};G(ot,D=>{i(o)&&i(d)&&D(ne)})}var O=c(se,2),F=l(O);F.__click=()=>p(f,!1);var de=c(F,2);de.__click=Fe,V(()=>de.disabled=!i(o)||!i(d)),at(ht,()=>i(o),D=>p(o,D)),at($t,()=>i(v),D=>p(v,D)),at(me,()=>i(g),D=>p(g,D)),at(De,()=>i(d),D=>p(d,D)),w(h,x)};G(Ne,h=>{i(f)&&h(ee)})}var ue=c(Ne,2);{var fe=h=>{var x=so();x.__click=()=>p(_,!1),x.__keydown=O=>O.key==="Escape"&&p(_,!1);var A=l(x);A.__click=O=>O.stopPropagation();var T=l(A),W=l(T),se=l(W),ke=c(W,2);ke.__click=()=>p(_,!1);var Ke=c(T,2),ht=l(Ke),At=c(l(ht),2),Ht=c(ht,2),Jt=c(l(Ht),2),$t=c(Ht,2),it=c(l($t),2),mt=c(l(it),2),Tt=l(mt);Tt.value=Tt.__value="manual";var q=c(Tt);q.value=q.__value="schedule";var me=c(q);me.value=me.__value="device_state";var Ee=c(it,2);{var Me=O=>{var F=Zi(),de=_e(F),D=c(l(de),2),M=l(D);M.value=M.__value="time_of_day";var z=c(M);z.value=z.__value="interval";var ae=c(de,2);{var Se=Re=>{var tt=Ki(),Rt=_e(tt),Le=c(l(Rt),2),bt=c(Rt,2),yt=c(l(bt),2);dt(yt,20,()=>["Su","Mo","Tu","We","Th","Fr","Sa"],qt,(lt,wt,Ae)=>{var qe=Bi(),Ue=l(qe);Ue.__change=()=>{i(P).includes(Ae)?p(P,i(P).filter(ct=>ct!==Ae),!0):p(P,[...i(P),Ae].sort(),!0)};var zt=c(Ue);V(ct=>{vi(Ue,ct),y(zt,` ${wt??""}`)},[()=>i(P).includes(Ae)]),w(lt,qe)}),xt(Le,()=>i(Z),lt=>p(Z,lt)),w(Re,tt)},we=Re=>{var tt=Yi(),Rt=c(l(tt),2);xt(Rt,()=>i(te),Le=>p(te,Le)),w(Re,tt)};G(ae,Re=>{i($)==="time_of_day"?Re(Se):Re(we,!1)})}at(D,()=>i($),Re=>p($,Re)),w(O,F)},ze=O=>{var F=tn(),de=_e(F);{var D=M=>{var z=Xi(),ae=_e(z),Se=c(l(ae),2),we=l(Se);we.value=we.__value="";var Re=c(we);dt(Re,1,n,qt,(wt,Ae)=>{const qe=Ct(()=>Nt(i(Ae).ieee_address));var Ue=Qi(),zt=l(Ue),ct={};V(()=>{y(zt,i(Ae).friendly_name||i(Ae).model||i(qe)),ct!==(ct=i(qe))&&(Ue.value=(Ue.__value=i(qe))??"")}),w(wt,Ue)});var tt=c(ae,2),Rt=c(l(tt),2),Le=l(Rt);Le.value=Le.__value="any";var bt=c(Le);bt.value=bt.__value="turned_on";var yt=c(bt);yt.value=yt.__value="turned_off";var lt=c(yt);lt.value=lt.__value="toggled",at(Se,()=>i(Y),wt=>p(Y,wt)),at(Rt,()=>i(le),wt=>p(le,wt)),w(M,z)};G(de,M=>{i(m)==="device_state"&&M(D)},!0)}w(O,F)};G(Ee,O=>{i(m)==="schedule"?O(Me):O(ze,!1)})}var ve=c($t,2),De=c(l(ve),2);dt(De,17,()=>i(H),qt,(O,F,de)=>{var D=ro(),M=l(D),z=l(M);z.value=z.__value="device_control";var ae=c(z);ae.value=ae.__value="delay";var Se=c(ae);Se.value=Se.__value="log";var we=c(M,2);{var Re=Le=>{var bt=to(),yt=_e(bt),lt=l(yt);lt.value=lt.__value="";var wt=c(lt);dt(wt,1,n,qt,(ct,La)=>{const ua=Ct(()=>Nt(i(La).ieee_address));var Hn=eo(),Kr=l(Hn),qa={};V(Yr=>{y(Kr,Yr),qa!==(qa=i(ua))&&(Hn.value=(Hn.__value=i(ua))??"")},[()=>i(La).friendly_name||i(ua).slice(0,8)]),w(ct,Hn)});var Ae=c(yt,2),qe=l(Ae);qe.value=qe.__value="turn_on";var Ue=c(qe);Ue.value=Ue.__value="turn_off";var zt=c(Ue);zt.value=zt.__value="toggle",at(yt,()=>i(F).deviceIeee,ct=>i(F).deviceIeee=ct),at(Ae,()=>i(F).command,ct=>i(F).command=ct),w(Le,bt)},tt=Le=>{var bt=tn(),yt=_e(bt);{var lt=Ae=>{var qe=no(),Ue=_e(qe);xt(Ue,()=>i(F).seconds,zt=>i(F).seconds=zt),w(Ae,qe)},wt=Ae=>{var qe=ao();xt(qe,()=>i(F).message,Ue=>i(F).message=Ue),w(Ae,qe)};G(yt,Ae=>{i(F).type==="delay"?Ae(lt):Ae(wt,!1)},!0)}w(Le,bt)};G(we,Le=>{i(F).type==="device_control"?Le(Re):Le(tt,!1)})}var Rt=c(we,2);Rt.__click=()=>J(de),at(M,()=>i(F).type,Le=>i(F).type=Le),w(O,D)});var Ye=c(De,2);Ye.__click=B;var gt=c(Ke,2),ot=l(gt);ot.__click=()=>p(_,!1);var ne=c(ot,2);ne.__click=be,V(()=>y(se,`${i(b)?"Edit":"Add"} Automation`)),xt(At,()=>i(S),O=>p(S,O)),xt(Jt,()=>i(C),O=>p(C,O)),at(mt,()=>i(m),O=>p(m,O)),w(h,x)};G(ue,h=>{i(_)&&h(fe)})}V(()=>{Ce.disabled=a().automations,y(ye,`${r().length??""} rule(s)`)}),w(e,he),xn(),u()}Wn(["click","keydown","change"]);var lo=k('<div class="empty-state">No cameras configured.</div>'),co=k('<div class="stream-placeholder svelte-3om0xx">WebRTC not supported in UI</div>'),uo=k('<img class="stream-img svelte-3om0xx"/>'),fo=k('<div class="stream-placeholder svelte-3om0xx">Click Play to start</div>'),vo=k('<div class="card camera-card svelte-3om0xx"><div class="card-header"><span class="card-title mono"> </span> <div class="flex gap-xs"><span class="tag"> </span> <span> </span></div></div> <div class="camera-stream svelte-3om0xx"><!></div> <div class="camera-controls svelte-3om0xx"><button class="btn btn-sm"> </button> <button class="btn btn-sm btn-danger">Delete</button></div></div>'),_o=k('<div class="camera-grid svelte-3om0xx"></div>'),po=k('<div class="form-hint">Format: rtsp://host:554/path</div>'),ho=k('<div class="form-group"><label class="form-label">Username (optional)</label> <input class="form-input" type="text" placeholder="admin"/></div> <div class="form-group"><label class="form-label">Password (optional)</label> <input class="form-input" type="password"/></div>',1),mo=k('<div class="modal-backdrop"><div class="modal"><div class="modal-header"><span class="modal-title">Add Camera</span> <button class="btn btn-sm">×</button></div> <div class="modal-body"><div class="form-group"><label class="form-label">Name</label> <input class="form-input" type="text" placeholder="Living Room" required/></div> <div class="form-group"><label class="form-label">Stream Type</label> <select class="form-select"><option>MJPEG (HTTP)</option><option>RTSP</option><option>WebRTC</option></select></div> <div class="form-group"><label class="form-label">Stream URL</label> <input class="form-input" type="text" required/> <!></div> <!></div> <div class="modal-footer"><button class="btn">Cancel</button> <button class="btn btn-primary">Add</button></div></div></div>'),go=k('<div class="toolbar"><button class="btn btn-primary">Add Camera</button> <button class="btn">Refresh</button> <div class="toolbar-spacer"></div> <span class="text-sm muted"> </span></div> <!> <!>',1);function bo(e,t){wn(t,!0);const n=()=>ie(pt,"$loading",r),a=()=>ie(Jr,"$cameras",r),[r,s]=Vn();let u=I(!1),f=I(""),o=I(""),v=I("mjpeg"),d=I(""),g=I(""),_=I(Kt(new Set));function b(){p(f,""),p(o,""),p(v,"mjpeg"),p(d,""),p(g,"")}async function S(){try{await $e.addCamera(i(f),i(o),i(v),i(d)||void 0,i(g)||void 0),p(u,!1),b(),On()}catch(E){console.error("Failed to add camera:",E),alert("Failed to add camera")}}async function C(E){if(confirm(`Delete "${E.name}"?`))try{await $e.deleteCamera(E.id),On()}catch(L){console.error("Failed to delete:",L)}}function m(E){i(_).has(E)?(i(_).delete(E),p(_,new Set(i(_)),!0)):(i(_).add(E),p(_,new Set(i(_)),!0))}function $(E){return $e.getCameraStreamUrl(E)}var Z=go(),P=_e(Z),te=l(P);te.__click=()=>{b(),p(u,!0)};var Y=c(te,2);Y.__click=()=>On();var le=c(Y,4),H=l(le),j=c(P,2);{var Be=E=>{var L=lo();w(E,L)},ge=E=>{var L=_o();dt(L,5,a,Q=>Q.id,(Q,B)=>{const J=Ct(()=>i(_).has(i(B).id));var Fe=vo(),be=l(Fe),N=l(be),X=l(N),re=c(N,2),ce=l(re),he=l(ce),oe=c(ce,2);let Te;var Ie=l(oe),Ce=c(be,2),Je=l(Ce);{var ye=ue=>{var fe=co();w(ue,fe)},Pe=ue=>{var fe=tn(),h=_e(fe);{var x=T=>{var W=uo();V(se=>{Gn(W,"src",se),Gn(W,"alt",i(B).name)},[()=>$(i(B).id)]),w(T,W)},A=T=>{var W=fo();w(T,W)};G(h,T=>{i(J)?T(x):T(A,!1)},!0)}w(ue,fe)};G(Je,ue=>{i(B).stream_type==="webrtc"?ue(ye):ue(Pe,!1)})}var et=c(Ce,2),xe=l(et);xe.__click=()=>m(i(B).id);var Ne=l(xe),ee=c(xe,2);ee.__click=()=>C(i(B)),V(ue=>{y(X,i(B).name),y(he,ue),Te=We(oe,1,"tag",null,Te,{"tag-green":i(B).enabled}),y(Ie,i(B).enabled?"ON":"OFF"),y(Ne,i(J)?"Stop":"Play")},[()=>i(B).stream_type.toUpperCase()]),w(Q,Fe)}),w(E,L)};G(j,E=>{a().length===0?E(Be):E(ge,!1)})}var Et=c(j,2);{var St=E=>{var L=mo();L.__click=()=>p(u,!1);var Q=l(L);Q.__click=ee=>ee.stopPropagation();var B=l(Q),J=c(l(B),2);J.__click=()=>p(u,!1);var Fe=c(B,2),be=l(Fe),N=c(l(be),2),X=c(be,2),re=c(l(X),2),ce=l(re);ce.value=ce.__value="mjpeg";var he=c(ce);he.value=he.__value="rtsp";var oe=c(he);oe.value=oe.__value="webrtc";var Te=c(X,2),Ie=c(l(Te),2),Ce=c(Ie,2);{var Je=ee=>{var ue=po();w(ee,ue)};G(Ce,ee=>{i(v)==="rtsp"&&ee(Je)})}var ye=c(Te,2);{var Pe=ee=>{var ue=ho(),fe=_e(ue),h=c(l(fe),2),x=c(fe,2),A=c(l(x),2);xt(h,()=>i(d),T=>p(d,T)),xt(A,()=>i(g),T=>p(g,T)),w(ee,ue)};G(ye,ee=>{i(v)==="rtsp"&&ee(Pe)})}var et=c(Fe,2),xe=l(et);xe.__click=()=>p(u,!1);var Ne=c(xe,2);Ne.__click=S,V(()=>Gn(Ie,"placeholder",i(v)==="rtsp"?"rtsp://192.168.1.x:554/stream":"http://192.168.1.x:8000/video_feed")),xt(N,()=>i(f),ee=>p(f,ee)),at(re,()=>i(v),ee=>p(v,ee)),xt(Ie,()=>i(o),ee=>p(o,ee)),w(E,L)};G(Et,E=>{i(u)&&E(St)})}V(()=>{Y.disabled=n().cameras,y(H,`${a().length??""} camera(s)`)}),w(e,Z),xn(),s()}Wn(["click"]);var yo=k('<div class="info-row"><span class="info-label">Application</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Version</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Firmware</span> <span class="info-value"> </span></div>',1),wo=k('<div class="muted text-sm">Loading...</div>'),xo=k('<div class="info-row"><span class="info-label">State</span> <span class="info-value"><span> </span></span></div> <div class="info-row"><span class="info-label">Channel</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">PAN ID</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Ext PAN ID</span> <span class="info-value text-xs"> </span></div> <div class="info-row"><span class="info-label">Permit Join</span> <span class="info-value"><span> </span></span></div>',1),ko=k('<div class="muted text-sm">No Zigbee adapter detected</div>'),Eo=k('<div class="muted text-sm">Loading...</div>'),So=k('<div class="toolbar"><button class="btn">Refresh</button> <div class="toolbar-spacer"></div> <span class="text-sm">Overall: <span> </span></span></div> <div class="section"><div class="section-title">Connections</div> <div class="data-grid connection-grid svelte-rgo3ix"><div class="data-row data-row-header svelte-rgo3ix"><span>Component</span> <span>Status</span> <span>Details</span></div> <div class="data-row"><span class="mono">Backend API</span> <span><span> </span></span> <span class="mono text-xs muted"> </span></div> <div class="data-row"><span class="mono">Zigbee Adapter</span> <span><span> </span></span> <span class="mono text-xs muted"> </span></div> <div class="data-row"><span class="mono">Zigbee Network</span> <span><span> </span></span> <span class="mono text-xs muted"> </span></div> <div class="data-row"><span class="mono">WebSocket</span> <span><span> </span></span> <span class="mono text-xs muted"> </span></div></div></div> <div class="status-panels svelte-rgo3ix"><div class="info-panel"><div class="info-panel-title">System</div> <!></div> <div class="info-panel"><div class="info-panel-title">Zigbee Network</div> <!></div> <div class="info-panel"><div class="info-panel-title">Statistics</div> <div class="info-row"><span class="info-label">Devices</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">Automations</span> <span class="info-value"> </span></div> <div class="info-row"><span class="info-label">WebSocket</span> <span class="info-value"><span> </span></span></div></div></div>',1);function Ao(e,t){wn(t,!1);const n=()=>ie(pt,"$loading",g),a=()=>ie(zr,"$overallHealth",g),r=()=>ie(Ra,"$connectionStatus",g),s=()=>ie(ca,"$systemInfo",g),u=()=>ie(Ma,"$networkStatus",g),f=()=>ie(Gr,"$deviceCount",g),o=()=>ie(la,"$automations",g),v=()=>ie(ki,"$enabledAutomations",g),d=()=>ie(Mn,"$wsConnected",g),[g,_]=Vn();function b(q){return"0x"+q.toString(16).padStart(4,"0").toUpperCase()}function S(){Xn(),Br()}function C(q){switch(q){case"online":return"tag-green";case"offline":return"tag-red";case"degraded":return"tag-yellow";default:return""}}function m(q){switch(q){case"online":return"ONLINE";case"offline":return"OFFLINE";case"degraded":return"DEGRADED";default:return"UNKNOWN"}}Hr();var $=So(),Z=_e($),P=l(Z);P.__click=S;var te=c(P,4),Y=c(l(te)),le=l(Y),H=c(Z,2),j=c(l(H),2),Be=c(l(j),2),ge=c(l(Be),2),Et=l(ge),St=l(Et),E=c(ge,2),L=l(E),Q=c(Be,2),B=c(l(Q),2),J=l(B),Fe=l(J),be=c(B,2),N=l(be),X=c(Q,2),re=c(l(X),2),ce=l(re),he=l(ce),oe=c(re,2),Te=l(oe),Ie=c(X,2),Ce=c(l(Ie),2),Je=l(Ce),ye=l(Je),Pe=c(Ce,2),et=l(Pe),xe=c(H,2),Ne=l(xe),ee=c(l(Ne),2);{var ue=q=>{var me=yo(),Ee=_e(me),Me=c(l(Ee),2),ze=l(Me),ve=c(Ee,2),De=c(l(ve),2),Ye=l(De),gt=c(ve,2),ot=c(l(gt),2),ne=l(ot);V(()=>{y(ze,s().name),y(Ye,s().version),y(ne,s().firmware??"Not detected")}),w(q,me)},fe=q=>{var me=wo();w(q,me)};G(ee,q=>{s()?q(ue):q(fe,!1)})}var h=c(Ne,2),x=c(l(h),2);{var A=q=>{var me=xo(),Ee=_e(me),Me=c(l(Ee),2),ze=l(Me);let ve;var De=l(ze),Ye=c(Ee,2),gt=c(l(Ye),2),ot=l(gt),ne=c(Ye,2),O=c(l(ne),2),F=l(O),de=c(ne,2),D=c(l(de),2),M=l(D),z=c(de,2),ae=c(l(z),2),Se=l(ae);let we;var Re=l(Se);V(tt=>{ve=We(ze,1,"tag",null,ve,{"tag-green":u().connected,"tag-red":!u().connected}),y(De,u().connected?"Joined":"Disconnected"),y(ot,u().channel),y(F,tt),y(M,u().extended_pan_id),we=We(Se,1,"tag",null,we,{"tag-yellow":u().permit_join}),y(Re,u().permit_join?"Active":"No")},[()=>b(u().pan_id)]),w(q,me)},T=q=>{var me=tn(),Ee=_e(me);{var Me=ve=>{var De=ko();w(ve,De)},ze=ve=>{var De=Eo();w(ve,De)};G(Ee,ve=>{r().coordinator.state==="offline"?ve(Me):ve(ze,!1)},!0)}w(q,me)};G(x,q=>{u()?q(A):q(T,!1)})}var W=c(h,2),se=c(l(W),2),ke=c(l(se),2),Ke=l(ke),ht=c(se,2),At=c(l(ht),2),Ht=l(At),Jt=c(ht,2),$t=c(l(Jt),2),it=l($t);let mt;var Tt=l(it);V((q,me,Ee,Me,ze,ve,De,Ye,gt,ot)=>{P.disabled=n().network,We(Y,1,`tag ${q??""}`,"svelte-rgo3ix"),y(le,me),We(Et,1,`tag ${Ee??""}`,"svelte-rgo3ix"),y(St,Me),y(L,r().backend.detail),We(J,1,`tag ${ze??""}`,"svelte-rgo3ix"),y(Fe,ve),y(N,r().coordinator.detail),We(ce,1,`tag ${De??""}`,"svelte-rgo3ix"),y(he,Ye),y(Te,r().zigbee.detail),We(Je,1,`tag ${gt??""}`,"svelte-rgo3ix"),y(ye,ot),y(et,r().websocket.detail),y(Ke,f()),y(Ht,`${o().length??""} (${v()??""} active)`),mt=We(it,1,"tag",null,mt,{"tag-green":d(),"tag-red":!d()}),y(Tt,d()?"Live":"Disconnected")},[()=>C(a()),()=>m(a()),()=>C(r().backend.state),()=>m(r().backend.state),()=>C(r().coordinator.state),()=>m(r().coordinator.state),()=>C(r().zigbee.state),()=>m(r().zigbee.state),()=>C(r().websocket.state),()=>m(r().websocket.state)]),w(e,$),xn(),_()}Wn(["click"]);var $o=k("<button> </button>"),To=k('<div class="footer-item"><span> </span></div>'),Co=k('<div id="app"><header class="header"><div class="header-title">casita</div> <div class="header-status"><span></span> <span class="mono"> </span> <span class="muted">|</span> <span class="mono"> </span></div></header> <nav class="nav"></nav> <main class="main"><!></main> <footer class="footer"><div class="footer-item"><span></span> <span>ws</span></div> <div class="footer-item"><span> </span></div> <!></footer></div>');function No(e,t){wn(t,!1);const n=()=>ie(Xa,"$activeView",o),a=()=>ie(zr,"$overallHealth",o),r=()=>ie(Gr,"$deviceCount",o),s=()=>ie(Mn,"$wsConnected",o),u=()=>ie(ca,"$systemInfo",o),f=()=>ie(Ra,"$connectionStatus",o),[o,v]=Vn(),d=[{id:"devices",label:"Devices"},{id:"automations",label:"Automations"},{id:"cameras",label:"Cameras"},{id:"status",label:"Status"}];function g(N){hi(Xa,N),N==="devices"?an():N==="automations"?Dt():N==="cameras"?On():N==="status"&&Xn()}function _(N){switch(N){case"online":return"online";case"degraded":return"warning";case"offline":return"offline";default:return"warning"}}function b(N){switch(N){case"online":return"all systems operational";case"degraded":return"degraded";case"offline":return"offline";default:return"unknown"}}mi(()=>{Bt.connect(),Bt.on("device_joined",()=>an()),Bt.on("device_left",()=>an()),Bt.on("device_updated",()=>an()),Bt.on("network_state_changed",()=>Xn()),Bt.on("automation_created",()=>Dt()),Bt.on("automation_updated",()=>Dt()),Bt.on("automation_deleted",()=>Dt()),Ei()}),Hr();var S=Co(),C=l(S),m=c(l(C),2),$=l(m),Z=c($,2),P=l(Z),te=c(Z,4),Y=l(te),le=c(C,2);dt(le,5,()=>d,qt,(N,X)=>{var re=$o();let ce;re.__click=()=>g(i(X).id);var he=l(re);V(()=>{ce=We(re,1,"nav-btn",null,ce,{active:n()===i(X).id}),y(he,i(X).label)}),w(N,re)});var H=c(le,2),j=l(H);{var Be=N=>{Pi(N,{})},ge=N=>{var X=tn(),re=_e(X);{var ce=oe=>{oo(oe,{})},he=oe=>{var Te=tn(),Ie=_e(Te);{var Ce=ye=>{bo(ye,{})},Je=ye=>{var Pe=tn(),et=_e(Pe);{var xe=Ne=>{Ao(Ne,{})};G(et,Ne=>{n()==="status"&&Ne(xe)},!0)}w(ye,Pe)};G(Ie,ye=>{n()==="cameras"?ye(Ce):ye(Je,!1)},!0)}w(oe,Te)};G(re,oe=>{n()==="automations"?oe(ce):oe(he,!1)},!0)}w(N,X)};G(j,N=>{n()==="devices"?N(Be):N(ge,!1)})}var Et=c(H,2),St=l(Et),E=l(St);let L;var Q=c(St,2),B=l(Q),J=l(B),Fe=c(Q,2);{var be=N=>{var X=To(),re=l(X),ce=l(re);V(()=>y(ce,f().coordinator.detail)),w(N,X)};G(Fe,N=>{f().coordinator.state==="online"&&N(be)})}V((N,X)=>{We($,1,`status-dot ${N??""}`),y(P,X),y(Y,`${r()??""} devices`),L=We(E,1,"status-dot",null,L,{online:s(),offline:!s()}),y(J,`v${u()?.version??"?"??""}`)},[()=>_(a()),()=>b(a())]),w(e,S),xn(),v()}Wn(["click"]);ti(No,{target:document.getElementById("app")});
